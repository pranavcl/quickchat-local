<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>QuickChat Local</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.8.1/socket.io.min.js" integrity="sha512-8ExARjWWkIllMlNzVg7JKq9RKWPlJABQUNq6YvAjE/HobctjH/NA+bSiDMDvouBVjp4Wwnf1VP1OEv7Zgjtuxw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">

		<link rel="stylesheet" href="client/styles.css">

		<script src="client/script.js"></script>
	</head>

	<body>
		<div id="menu" class="card main-card">
			<h1>QuickChat Local</h1>
			<button class="main-btn" onclick='changeState("login");'>Login</button><br><br>
			<button class="main-btn" onclick='changeState("register");'>Register</button><br><br>
			<button class="main-btn" onclick='changeState("forgot_password")'>Forgot Password</button><br><br>
		</div>

		<div id="login" class="card form-card">
			<h1>Login</h1>
			<form id="login_form" onsubmit="return false;">
				<label for="login_username">Username:</label>
				<input type="text" id="login_username" name="login_username" placeholder="Enter your username">
				<label for="login_password">Password:</label>
				<input type="password" id="login_password" name="login_password" placeholder="Enter your password">
				<button type="submit" onclick="do_login();" class="main-btn">Login</button>
				<button type="button" class="secondary-btn" onclick='changeState("menu");'>Back to Menu</button>
			</form>
		</div>

		<div id="register" class="card form-card" onsubmit="return false;">
			<h1>Register</h1>
			<form id="register_form">
				<label for="register_username">Username:</label>
				<input type="text" id="register_username" name="register_username" placeholder="Enter your username">
				<label for="register_email">Email:</label>
				<input type="email" id="register_email" name="register_email" placeholder="Enter your email">
				<label for="register_password">Password:</label>
				<input type="password" id="register_password" name="register_password" placeholder="Enter your password">
				<label for="register_confirm_password">Confirm Password:</label>
				<input type="password" id="register_confirm_password" name="register_confirm_password" placeholder="Confirm your password">
				<button type="submit" onclick="do_register();" class="main-btn">Register</button>
				<button type="button" class="secondary-btn" onclick='changeState("menu");'>Back to Menu</button>
			</form>
		</div>

		<div id="forgot_password" class="card form-card" onsubmit="return false;">
			<h1>Forgot Password</h1>
			<form id="forgot_password_form">
				<label for="forgot_email">Email:</label>
				<input type="email" id="forgot_email" name="forgot_email" placeholder="Enter your registered email address">
				<button type="submit" onclick="do_forgot_password();" class="main-btn">Reset Password</button>
				<button type="button" class="secondary-btn" onclick='changeState("menu");'>Back to Menu</button>
			</form>
		</div>

		<div id="chat" class="card chat-card">
			<h1>Chat</h1>
			<button class="logout-btn" style="font-family: Inter, sans-serif;" onclick="logout();">Logout</button>
			<div class="chat-messages-container">
				<textarea id="chat_messages" readonly></textarea>
			</div>
			<form id="chat_form" class="chat-form" onsubmit="return false;">
				<input type="text" id="chat_input" placeholder="Type your message here..." autocomplete="off" />
				<button type="button" style="font-family: Inter, sans-serif;" onclick="sendMessage();">Send</button>
			</form>
			<p id="typing_indicator" class="typing-indicator"></p>
		</div>
	</body>
</html>
